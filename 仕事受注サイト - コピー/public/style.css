@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700;900&display=swap');

/* ベースカラー */
:root {
  --pale: #FFFFFF;
  --soft: #F0F7EB; /* very light mint (original) */
  --mid:  #9FBF99; /* soft green (original) */
  --dark: #3F5F55; /* darker green (original) */
  --header-color: #526F66; /* slightly lighter than --dark */
  --slate: #34414A; /* deep slate (original) */
  --heading-color: #2c3e50; /* 濃紺 */
  --card-bg: #FFFFFF;
  --page-bg-start: #F0F7EB; /* pale mint start */
  --page-bg-end: #E6EFE6; /* pale mint end */
  --accent-rgba: rgba(63,95,85,0.08);
  --accent-border: rgba(63,95,85,0.06);
  --shadow-rgba: rgba(52,65,74,0.06);
  --radius: 12px;
}

/* ベーススタイル */
body {
  font-family: 'Noto Sans JP', system-ui, -apple-system, "Segoe UI", Roboto, 'Helvetica', 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: linear-gradient(180deg, var(--page-bg-start) 0%, var(--page-bg-end) 100%);
  color: var(--slate);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x: hidden;
}

/* 左サイドにミントの帯を表示（視覚的に"サイドが緑"に見せる） */
/* サイドバー（実際のDOM要素） */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 220px;
  padding: 2.2rem 1rem;
  background: #3F5F55; /* fixed requested color */
  color: var(--pale);
  z-index: 2;
  box-shadow: 2px 0 12px rgba(12,60,45,0.06);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  overflow-y: auto;
  word-wrap: break-word;
  word-break: break-word;
}
.sidebar.closed {
  transform: translateX(-100%);
  box-shadow: none;
}
.sidebar .logo { font-weight:800; font-size:1.05rem; margin-bottom:1rem; }
.sidebar nav { display:flex; flex-direction:column; gap:0.6rem; }
.sidebar a { color:var(--pale); text-decoration:none; padding:0.5rem 0.6rem; border-radius:8px; display:inline-block; }
.sidebar a:hover { background: rgba(255,255,255,0.06); }
.sidebar .cta { margin-top:1rem; display:flex; gap:0.6rem; flex-direction:column; }

/* サイドバー内のプロフィールサマリー */
.sidebar .profile { display:flex; gap:0.75rem; align-items:center; margin-bottom:1rem; padding-bottom:0.6rem; border-bottom:1px solid rgba(255,255,255,0.06); }
.profile-avatar { width:56px; height:56px; border-radius:10px; background: linear-gradient(135deg, var(--soft), var(--mid)); display:flex; align-items:center; justify-content:center; color:var(--pale); font-weight:700; font-size:1rem; }
.profile-info { display:flex; flex-direction:column; gap:0.15rem; }
.profile-name { font-weight:700; font-size:0.95rem; }
.profile-rating { font-size:0.85rem; opacity:0.95; }

header {
  background: var(--header-color);
  color: var(--pale);
  padding: 1rem 2rem;
  padding-left: calc(220px + 2rem);
  display: flex;
  justify-content: flex-start;
  align-items: center;
  z-index: 3;
  position: relative;
  transition: padding-left 0.3s ease;
  gap: 1.5rem;
}
header #sidebar-toggle {
  flex-shrink: 0;
  padding: 0.5rem 0.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--pale);
  font-size: 1.5rem;
  cursor: pointer;
  line-height: 1;
}
header #sidebar-toggle:hover {
  opacity: 0.8;
}
header h1 {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--pale);
}
header nav {
  display: flex;
  gap: 1rem;
  margin-left: auto;
}
header.sidebar-closed {
  padding-left: 2rem;
}

main {
  padding: 2.4rem;
  display: flex;
  flex-direction: column;
  gap: 2.4rem;
  max-width: 960px;
  margin: 2rem auto;
  margin-left: calc(220px + 2.5rem);
  margin-right: 2.5rem;
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 12px 36px var(--shadow-rgba);
  z-index: 3;
  position: relative;
  flex: 1 0 auto;
  transition: margin-left 0.3s ease;
}
main.sidebar-closed {
  margin-left: 2.5rem;
}

/* header 内のリンク */
header nav a { color: var(--pale); text-decoration:none; margin-left:0.6rem; }
header nav a:hover { opacity:0.9; }

nav button {
  margin-left: 0.6rem;
  padding: 0.7rem 1.1rem;
  background: var(--mid);
  color: var(--pale);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 8px 22px rgba(12,100,72,0.12);
  font-weight: 700;
}

nav button:hover { transform: translateY(-1px); box-shadow: 0 12px 30px rgba(12,100,72,0.14); }

section h2 {
  margin-bottom: 1rem;
  color: var(--heading-color);
  font-size: 1.15rem;
}

/* 見出しと段落まわりを白背景にして可読性を上げる */
section h2, section p {
  background: var(--card-bg);
  color: var(--slate);
  padding: 0.6rem 0.9rem;
  border-radius: 8px;
  display: inline-block;
}

/* 長い段落はブロック表示で幅を保つ */
section p { display: block; max-width: 900px; }

/* Hero: 背景が暗いときに、文章周りを明るいパネルにして写真のように見せるスタイル */
.hero {
  padding: 3rem 1rem;
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: 0 6px 18px var(--shadow-rgba);
}

.hero .hero-inner {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

.hero h2,
.hero p {
  display: inline-block;
  background: var(--card-bg);
  color: var(--slate);
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
}

.hero p { display:block; max-width:900px; margin-top:1rem; }

/* カード群（例: 特集やケーススタディ）を写真上のカード風に見せる */
.card-grid { display:flex; gap:1rem; flex-wrap:wrap; justify-content:center; }
.card { 
  background: var(--card-bg);
  border-radius: 10px;
  overflow: hidden;
  width: 280px;
  border: 1px solid var(--accent-border);
  box-shadow: 0 6px 16px var(--shadow-rgba);
}
.card .card-body { padding: 1rem; color: var(--slate); }
.card img { width:100%; height:160px; object-fit:cover; display:block; }

/* blockquote を写真キャプション風に調整 */
blockquote {
  background: var(--card-bg);
  padding: 1rem;
  border-radius: 10px;
  border: 1px solid var(--accent-border);
  box-shadow: 0 6px 14px var(--shadow-rgba);
  color: var(--slate);
}

/* テーブルや一覧のセルも明るいカードに見えるよう微調整 */
table thead tr { border-bottom: 1px solid var(--accent-border); }
table td, table th { padding: 0.6rem 0.4rem; }

/* ===== モダンなカードベースのセクションスタイル ===== */
/* セクションは白いカードにして情報を整理 */
.section-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.6rem;
  border: 1px solid var(--accent-border);
  box-shadow: 0 12px 36px var(--shadow-rgba);
  margin-bottom: 1.6rem;
}

/* hero をカード風に調整 */
.hero {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  box-shadow: 0 18px 48px var(--shadow-rgba);
  color: var(--slate);
}

/* テキストの基本設定（Noto Sans JP を使用） */
body, main, section, .card, .section-card {
  color: var(--slate);
  font-family: 'Noto Sans JP', system-ui, -apple-system, "Segoe UI", Roboto, 'Helvetica', 'Arial', sans-serif;
  line-height: 1.75;
}

/* 見出しは濃紺で上品に */
section h2, h1, h2, h3 {
  color: var(--heading-color);
  margin-top: 0;
}

/* カード群（例: 特集やケーススタディ） */
.card-grid { display:flex; gap:1.2rem; flex-wrap:wrap; justify-content:flex-start; }
.card { 
  background: var(--card-bg);
  border-radius: 10px;
  overflow: hidden;
  width: 280px;
  border: 1px solid var(--accent-border);
  box-shadow: 0 10px 30px var(--shadow-rgba);
}
.card .card-body { padding: 1.2rem; color: var(--slate); }
.card img { width:100%; height:160px; object-fit:cover; display:block; }

/* blockquote をカード風に */
blockquote {
  background: var(--card-bg);
  padding: 1.2rem;
  border-radius: 10px;
  border: 1px solid var(--accent-border);
  box-shadow: 0 10px 28px var(--shadow-rgba);
  color: var(--slate);
}

/* テーブルや一覧の余白強化 */
table thead tr { border-bottom: 1px solid var(--accent-border); }
table td, table th { padding: 0.9rem 0.6rem; }

/* ボタンの強化（緑系を活かす） */
.small-btn, #postJobForm button, .auth-card button {
  background: linear-gradient(180deg, var(--mid), var(--dark));
  color: var(--pale);
  padding: 0.8rem 1.2rem;
  border-radius: 12px;
  border: none;
  box-shadow: 0 12px 36px rgba(12,100,72,0.12);
  font-weight: 700;
}
.small-btn:hover, #postJobForm button:hover, .auth-card button:hover { transform: translateY(-2px); }

@media (max-width: 900px) {
  .sidebar {
    z-index: 100 !important;
    width: 250px;
  }
  .sidebar .logo {
    font-size: 0.95rem;
  }
  .sidebar .profile {
    margin-bottom: 0.8rem;
  }
  .profile-avatar {
    width: 48px !important;
    height: 48px !important;
    font-size: 0.9rem !important;
  }
  .profile-name {
    font-size: 0.85rem !important;
  }
  .profile-rating {
    font-size: 0.75rem !important;
  }
  .sidebar nav {
    gap: 0.4rem !important;
  }
  .sidebar a {
    padding: 0.4rem 0.5rem !important;
    font-size: 0.9rem;
  }
  .sidebar .cta {
    gap: 0.4rem !important;
  }
  .small-btn {
    padding: 0.6rem 0.8rem !important;
    font-size: 0.85rem !important;
  }
  header {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    gap: 0.8rem !important;
    min-height: 60px;
    flex-wrap: nowrap;
    overflow: hidden;
  }
  header #sidebar-toggle {
    padding: 0.4rem !important;
    font-size: 1.3rem !important;
    flex-shrink: 0;
  }
  header h1 {
    font-size: 1rem !important;
    margin: 0 !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-shrink: 1;
  }
  header.sidebar-closed {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  main {
    margin-left: auto !important;
    margin-right: auto !important;
    padding: 0.8rem !important;
    max-width: 100% !important;
    width: 100% !important;
    margin-top: 0.8rem !important;
    margin-bottom: 0.8rem !important;
    box-sizing: border-box !important;
    border-radius: 8px !important;
  }
  main.sidebar-closed {
    margin-left: auto !important;
    margin-right: auto !important;
  }
  section {
    width: 100% !important;
    box-sizing: border-box !important;
  }
  section h2,
  section h3,
  section p {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
  }
  table {
    width: 100% !important;
    table-layout: auto !important;
    font-size: 0.8rem !important;
    overflow-x: auto !important;
    display: block !important;
  }
  table thead {
    display: table !important;
    width: 100% !important;
  }
  table tbody {
    display: table !important;
    width: 100% !important;
  }
  table tr {
    display: table-row !important;
    width: 100% !important;
  }
  table td,
  table th {
    padding: 0.3rem 0.2rem !important;
    word-break: break-word !important;
    max-width: 100% !important;
    overflow-wrap: break-word !important;
  }
  ul, ol {
    padding-left: 1.2rem !important;
    width: 100% !important;
  }
  ul li, ol li {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
  }
  blockquote {
    width: 100% !important;
    box-sizing: border-box !important;
    word-break: break-word !important;
  }
  details {
    width: 100% !important;
    box-sizing: border-box !important;
  }
  details summary {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
  }
    margin-top: 1rem;
  }
  main.sidebar-closed {
    margin-left: auto;
    margin-right: auto;
  }
  .card-grid { justify-content:center; }
}

/* 可変: 強めの見出しをマスキングテープに見せたい場合は `.mask-tape` を追加で使えます */
.mask-tape::before { box-shadow: 0 4px 8px var(--tape-dark); }


#jobs {
  list-style: none;
  padding: 0;
}

#jobs li {
  background: var(--card-bg);
  border: 1px solid var(--accent-rgba);
  padding: 1rem;
  margin-bottom: 1rem;
  border-radius: 10px;
  box-shadow: 0 6px 14px rgba(16,90,72,0.06);
}

#postJobForm input,
#postJobForm textarea {
  width: 100%;
  padding: 0.6rem;
  margin-bottom: 1rem;
  border: 1px solid rgba(16,90,72,0.14);
  border-radius: 6px;
}

#postJobForm button {
  background: var(--mid);
  color: var(--pale);
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 6px;
  cursor: pointer;
}

#postJobForm button:hover {
  background: var(--dark);
}

.small-btn {
  padding: 0.4rem 0.6rem;
  margin-left: 0.5rem;
  border-radius: 6px;
  border: 1px solid var(--accent-border);
  background: var(--mid);
  color: var(--pale);
  cursor: pointer;
}

.small-btn:hover { background: var(--dark); color: var(--pale); }

footer {
  text-align: center;
  padding: 1rem;
  background: linear-gradient(180deg, rgba(6,60,45,0.92), rgba(6,60,45,0.80));
  font-size: 0.9rem;
  color: var(--pale);
  z-index: 2;
  position: relative;
}

/* レスポンシブ対応 */
@media (max-width: 600px) {
  main {
    padding: 1rem;
    margin-left: auto;
  }

  header {
    flex-direction: column;
    align-items: flex-start;
    padding-left: 1rem; /* reset on mobile */
  }

  nav {
    margin-top: 0.5rem;
  }
}

/* Authentication page styles */
.auth-container {
  display: flex;
  gap: 2rem;
  justify-content: center;
  align-items: flex-start;
  padding: 2rem 1rem 4rem;
  flex-wrap: wrap;
}

.auth-card {
  background: var(--card-bg);
  width: 420px;
  max-width: calc(100% - 2rem);
  padding: 1.6rem;
  border-radius: 12px;
  box-shadow: 0 10px 28px rgba(16,90,72,0.08);
  border: 1px solid var(--accent-border);
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.auth-card h2 {
  margin: 0 0 0.4rem 0;
  color: var(--dark);
}

.auth-card input,
.auth-card select {
  padding: 0.8rem;
  border-radius: 8px;
  border: 1px solid rgba(16,90,72,0.14);
}

.auth-card button {
  margin-top: 0.6rem;
  padding: 0.8rem;
  border-radius: 8px;
  background: var(--mid);
  color: var(--pale);
  border: none;
  cursor: pointer;
}

.auth-card button:hover { background: var(--dark); }

@media (max-width: 900px) {
  .auth-container { gap: 1rem; }
  .auth-card { width: 100%; }
  main { margin-left: auto; margin-right: auto; }
}

/* validation styles */
.label-error {
  color: #e74c3c !important;
  font-weight: 600;
}

.needs-parental {
  position: relative;
}

.input-error {
  border: 2px solid #e74c3c !important;
  box-shadow: 0 0 0 3px rgba(231,76,60,0.06);
}

/* job detail panel */
#job_detail_panel {
  background: var(--card-bg);
  border: 1px solid var(--accent-rgba);
  border-radius: 10px;
  padding: 1rem;
  box-shadow: 0 12px 30px rgba(16,90,72,0.08);
  position: sticky;
  top: 80px;
  z-index: 30;
}

#job_detail_panel {
  opacity: 0;
  transform: translateY(8px);
  transition: opacity 360ms cubic-bezier(.2,.8,.2,1), transform 360ms cubic-bezier(.2,.8,.2,1);
  pointer-events: none;
}

.panel-visible {
  display: block !important;
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: auto !important;
}

.job-detail-title { font-size:1.1rem; color:var(--dark); margin-bottom:0.6rem }
.job-detail-meta { font-size:0.95rem; color:var(--slate); margin-bottom:0.6rem }
.job-detail-body { color:var(--slate); line-height:1.6 }

.panel-visible { display:block !important; }

/* highlight dragged item */
.dragging { opacity: 0.6; transform: scale(0.995); }

/* profile view enhancements */
.profile-card { background: var(--card-bg); padding:1.2rem; border-radius:12px; border:1px solid var(--accent-border); box-shadow:0 6px 16px var(--shadow-rgba); }
.profile-top { display:flex; gap:1rem; align-items:center; }
.profile-avatar { width:84px; height:84px; border-radius:12px; background:linear-gradient(135deg,var(--soft),var(--mid)); display:flex; align-items:center; justify-content:center; color:var(--pale); font-weight:700; font-size:1.1rem; }
.profile-main { flex:1; }
.score-block { text-align:right; min-width:180px }
.score-number { font-size:2rem; font-weight:800; color:var(--mid); }
.score-bar { background: #eef6ef; height:12px; border-radius:8px; overflow:hidden; margin-top:0.6rem; }
.score-fill { height:100%; background: linear-gradient(90deg,var(--soft),var(--mid)); width:0%; transition:width 600ms ease; }
.badges { display:flex; gap:0.5rem; margin-top:0.6rem; flex-wrap:wrap }
.badge { background:var(--card-bg); padding:0.3rem 0.6rem; border-radius:999px; border:1px solid rgba(16,90,72,0.06); font-size:0.85rem; }
.info-grid { display:flex; gap:0.8rem; margin-top:0.8rem; flex-wrap:wrap }
.info-item { background:var(--muted); padding:0.6rem; border-radius:8px; min-width:120px; text-align:center; }
.info-item strong { display:block; font-size:1.1rem; }
.profile-summary { margin-top:0.8rem; color:var(--slate); }
.details-collapse { margin-top:0.8rem; }
.details-hidden { display:none; }

/* 横スクロール回転アニメーション */
@keyframes horizontalScroll {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-1872px);
  }
  50.1% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(0);
  }
}
